# 📄 조회 성능 이슈 분석 및 개선 보고서


### ⚠️ 조회 성능 이슈 예상 기능 및 문제 원인 
> 조회 성능에 문제가 생긴다고 하면,
> 1. 절대적인 탐색량이 많거나
> 2. 여러 테이블의 조인이 발생하거나
> 3. 복잡한 조건 필터링이 필요할 때
>
> 정도로 나눠서 생각할 수 있을 것 같다.
>
> 위의 3가지 문제가 발생할 수 있을 것 같은 기능은 다음과 같다.
#### ✅ 사용자 포인트 히스토리 조회
- 포인트 충전/사용 등의 내역 多
- 트랙잭션 타입 등 복합적인 쿼리 발생

#### ✅ 인기 상품 목록 조회
- 사용자 수, 조회 수, 구매 수 多
- 로그 테이블의 용량 大

#### ✅ 전체 상품 목록 / 상세 조회
- 카테고리/정렬 등 복잡한 조회 쿼리 발생
- 상세 조회 시 상품, 옵션 등 여러 테이블의 조인

---

### 🛠 해결 방안 및 기술별 장단점

> 성능 개선이라함은 응답 속도를 빠르게 하는 것이다. ?
> 
> 대신 품질, 저장 비용 등 포기해야 할 항목이 생길 수 있다.

#### ✅ 인덱싱
> 자주 이용하는 column에 인덱스를 추가하여 탐색 속도를 높이는 방식 
- 장점 : 조회 속도 향상, 구현이 쉬움.
- 단점 : 인덱스가 너무 많아지면 성능 저하, 저장 비용 증가

#### ✅ 파티셔닝
> 테이블의 특정 파티션만 탐색함 (날짜, 범위 등)
- 장점 : 검색 범위 축소로 인한 조회 성능 향상 
- 단점 : 구현 및 관리 복잡함.

#### ✅ Materalized View 
> 자주 조회하는 (복잡한) 쿼리를 DB에 미리 저장해둠. 
- 장점 : 집계 쿼리에 최적화.
- 단점 : 실시간성이 부족하고 주기적인 리프레시가 필요함.

---

### ⭐️ 결론 및 제안

| 기능 | 사용 기술 | 개선 방안 |
|------|-----------|--------------|
| 사용자 포인트 히스토리 조회 | 인덱싱 + 파티셔닝 | 트랙잭션 타입 및 사용자 id 등에 인덱싱, 기간별 파티셔닝 |
| 인기 상품 조회 | 집계 테이블 | 인기 상품 집계 테이블 |
| 상품 목록/상세 조회 | 인덱싱 | 상품 id 등에 인덱싱 |

